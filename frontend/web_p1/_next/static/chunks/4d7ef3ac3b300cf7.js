(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13209,e=>{"use strict";class n{config;playerNumber;constructor(e){this.config=e,this.playerNumber=1}getEndpoint(){let e=this.config.endpoints[0];if(!e)throw Error("No endpoint configured in config.json");return e}async query(e,n,t){let i=this.getEndpoint(),r=t||i.chainId,a=`${i.url}/chains/${r}/applications/${this.config.applicationId}`,o=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:n})});if(!o.ok)throw Error(`GraphQL request failed: ${o.statusText}`);let s=await o.json();if(s.errors)throw Error(`GraphQL errors: ${JSON.stringify(s.errors)}`);return s.data}async mutate(e,n,t){return this.query(e,n,t)}getOwner(){return this.getEndpoint().owner}getChainId(){return this.getEndpoint().chainId}}let t=null;function i(e){t=e}function r(){if(!t)throw Error("Linera config not initialized. Call loadConfig first.");return t}function a(e){return new n(r())}async function o(){try{let e=await fetch("/config.json");if(e.ok){let n=await e.json();if(n.endpoints&&Array.isArray(n.endpoints))return t=n,n;let i={applicationId:n.appId||n.applicationId,playChain:n.chainId,endpoints:[{chainId:n.userChain||n.chainId,owner:"",url:n.nodeServiceURL||n.endpoint}]};return t=i,i}}catch(e){console.log("No runtime config.json found, using environment variables")}let e={applicationId:"",playChain:"",endpoints:[{chainId:"",owner:"",url:"http://localhost:8081"}]};return t=e,e}e.s(["LineraClient",()=>n,"createLineraClient",()=>a,"getGlobalConfig",()=>r,"loadConfig",()=>o,"setGlobalConfig",()=>i])},84654,e=>{"use strict";var n=e.i(43476),t=e.i(71645),i=e.i(13209);function r({children:e}){let[r,a]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{(0,i.loadConfig)().then(()=>{a(!0),console.log("Linera config loaded successfully")}).catch(e=>{console.error("Failed to load Linera config:",e),a(!0)})},[]),r)?(0,n.jsx)(n.Fragment,{children:e}):(0,n.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-gray-900 text-white",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,n.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"}),(0,n.jsx)("p",{className:"animate-pulse",children:"Connecting to Linera network..."})]})})}e.s(["default",()=>r])},65897,e=>{"use strict";var n=e.i(43476),t=e.i(71645),i=e.i(13209);function r({children:e}){let[r,a]=(0,t.useState)(!1),[o,s]=(0,t.useState)(null);return((0,t.useEffect)(()=>{(0,i.loadConfig)().then(()=>{console.log("âœ“ Game configuration loaded"),a(!0)}).catch(e=>{console.error("Failed to load configuration:",e),s(e?.message||"Failed to load game configuration")})},[]),o)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50",children:(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Configuration Error"}),(0,n.jsx)("p",{className:"text-gray-700 mb-4",children:o}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Please ensure the backend is running and config.json is accessible."}),(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:"Retry"})]})}):r?(0,n.jsx)(n.Fragment,{children:e}):(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Loading game configuration..."})]})})}e.s(["default",()=>r])}]);